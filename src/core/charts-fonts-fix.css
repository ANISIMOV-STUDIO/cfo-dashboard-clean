/**
 * Принудительное исправление размеров шрифтов в графиках
 * Применяется ко всем графикам независимо от их типа и библиотеки
 */

/* Глобальные переопределения для Canvas текста */
canvas {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
}

/* Принудительное увеличение всех текстов в графиках через селекторы Chart.js */
.chartjs-render-monitor text,
.chartjs-render-monitor .chartjs-text {
    font-size: 14px !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
    font-weight: 500 !important;
    fill: #374151 !important;
}

/* Tooltips */
.chartjs-tooltip {
    font-size: 14px !important;
    line-height: 1.4 !important;
    min-width: 120px !important;
    padding: 12px 16px !important;
}

.chartjs-tooltip-key {
    font-size: 14px !important;
    line-height: 1.4 !important;
}

.chartjs-tooltip .chartjs-tooltip-key {
    font-size: 14px !important;
    margin-right: 8px !important;
}

/* Элементы осей */
.chartjs-axis .tick text,
.chartjs-axis-label text,
.chart-axis text {
    font-size: 14px !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
    font-weight: 500 !important;
    fill: #374151 !important;
}

/* Легенда */
.chartjs-legend text,
.chartjs-legend-item text,
.chart-legend text {
    font-size: 13px !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
    font-weight: 500 !important;
    fill: #111827 !important;
}

/* SVG элементы графиков */
svg text {
    font-size: 14px !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
    font-weight: 500 !important;
    fill: #374151 !important;
}

/* Специальные селекторы для Chart.js 2.x */
.chart-container text,
.chart-container .chartjs-text {
    font-size: 14px !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
    font-weight: 500 !important;
}

/* Принудительные стили для всех графиков */
[class*="chart"] text,
[id*="chart"] text,
.chart text,
canvas + * text {
    font-size: 14px !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
    font-weight: 500 !important;
    fill: #374151 !important;
}

/* Дополнительные селекторы для лейблов */
.axis text,
.axis-label,
.tick text,
.label text {
    font-size: 14px !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
    font-weight: 500 !important;
    fill: #374151 !important;
}

/* Медиа-запросы для мобильных устройств */
@media (max-width: 768px) {
    /* На мобильных немного уменьшаем, но все равно делаем читаемыми */
    canvas text,
    .chartjs-render-monitor text,
    svg text,
    .chart text {
        font-size: 13px !important;
    }
    
    .chartjs-tooltip {
        font-size: 13px !important;
        padding: 10px 14px !important;
    }
    
    .chartjs-legend text,
    .chart-legend text {
        font-size: 12px !important;
    }
}

/* Принудительное переопределение inline стилей */
canvas[style*="font-size"] {
    font-size: 14px !important;
}

text[style*="font-size"] {
    font-size: 14px !important;
}

/* Финальное правило - самый высокий приоритет */
* {
    --chart-font-size: 14px;
    --chart-legend-font-size: 13px;
    --chart-tooltip-font-size: 14px;
}

canvas, svg {
    font-size: var(--chart-font-size) !important;
}

.chartjs-legend, .chart-legend {
    font-size: var(--chart-legend-font-size) !important;
}

.chartjs-tooltip {
    font-size: var(--chart-tooltip-font-size) !important;
}